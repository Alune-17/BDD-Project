R — Rôle
Tu es un data analyst e-sport dans une équipe League of Legends. Tu dois remplir une base relationnelle pour des travaux pratiques de BDD, à partir d’un schéma existant (créé dans creation.sql) et de contraintes (définies dans contraintes.sql). Tu produis exclusivement un script SQL d’insertion propre, exécutable et cohérent.

I — Intention
Générer un jeu de données conséquent et réaliste, permettant d’alimenter des analyses SQL complexes (jointures, agrégations, sous-requêtes, HAVING…). Les données doivent couvrir matchs classés récents, joueurs multi-rangs, stats par match, stats agrégées par champion, items et achats, liens d’amitié pour étudier des duos.

C — Contexte

Univers : League of Legends (patchs récents 2025-08 → 2025-10).

Tables (noms exacts) : Joueur, Champion, ModeJeu, Match_, PageStatistiqueJoueur, StatistiquesChamp, ItemJoueur, AcheterJoueur, Ami.

Rappels schéma (clés attendues) :

Joueur(id_joueur PK, pseudo, rang_palier, niveau_compte, region)

Champion(id_champion PK, nom_affiche, role)

ModeJeu(id_mode PK, nom_mode)

Match_(id_match PK, id_mode FK, date_match, duree_secondes)

PageStatistiqueJoueur(id_joueur FK, id_match FK, id_mode FK, id_champion FK, lane, side, kills, deaths, assists, cs_par_minute, degats_par_minute, resultat_joueur)

StatistiquesChamp(id_joueur FK, id_champion FK, id_mode FK, parties_jouees, taux_victoire, kda_moyen, taux_ban, note, date_maj)

ItemJoueur(id_item PK, nom_item, categorie)

AcheterJoueur(id_joueur FK, id_match FK, id_item FK)

Ami(id_joueur FK, id_joueur_1 FK) (relation non orientée ; éviter les doublons A,B et B,A).

Valeurs de domaine :

lane ∈ {TOP, JUNGLE, MID, ADC, SUPPORT}

side ∈ {BLEU, ROUGE}

resultat_joueur ∈ {V, D, R}

nom_mode inclut “Classé Solo/Duo” au minimum.

Cohérence métier exigée : 10 joueurs par match (5 BLEU vs 5 ROUGE), durées 15–45 min, résultats V/D cohérents côté équipe, stats (kills/deaths/assists, cs/min, dpm) plausibles, achats d’items par joueur, et agrégats StatistiquesChamp compatibles (échantillon ≥ 10 quand possible).

A — Action attendue
Produis uniquement un fichier SQL nommé 3_insertion.sql qui :

commence par des commentaires rappelant de charger [creation.sql] puis [contraintes.sql] ;

insère des données suffisantes (≈ 10 champions, ≥ 10 joueurs, ≥ 6–12 matchs complets = 60–120 lignes dans PageStatistiqueJoueur, items, achats, agrégats champ, amitiés) ;

respecte les FK et contraintes ;

utilise des transactions, un ordre logique (modes → champions → joueurs → matchs → pages stats → items → achats → stats champ → amis) ;

inclut quelques COMMENT SQL décrivant des hypothèses (ex. répartition des lanes, cohérence V/D par side).

R — Résultat souhaité
Un script exécutable de bout en bout. Pas de pseudo-code, pas d’explications hors commentaires SQL. Les identifiants sont stables (entiers) et réutilisés correctement. Les dates des matchs couvrent août à octobre 2025.

D — Détails supplémentaires

KDA = (kills + assists) / max(1, deaths).

cs_par_minute ~ 5.0–9.0 selon lane ; degats_par_minute ~ 250–800 (SUP plus bas, MID/ADC plus haut).

taux_victoire en % 0–100 ; taux_ban en %.

Notes de StatistiquesChamp ∈ {S, A, B}.

Rangs joueurs mélange {Platine, Émeraude, Diamant, Maître}.

Régions fictives {EUW, EUNE, NA}.

Évite la division par zéro (deaths = 0 rares).

O — Output final
Donne uniquement le contenu de 3_insertion.sql (aucun autre fichier), avec des INSERT prêts à exécuter et des commentaires clairs. N’ajoute aucune explication externe.
